<?php if (!defined('THINK_PATH')) exit(); /*a:1:{s:63:"E:\WWW\system\public/../application/index\view\index\index.html";i:1517319139;}*/ ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>档案管理</title>
<link href="__CSS__/style.css" rel="stylesheet" type="text/css" />
<link rel="Bookmark" href="__IMG__/computer.ico" >
<link rel="Shortcut Icon" href="__IMG__/files.ico" />
<script type="text/javascript" src="__JS__/jquery.js"></script>
<script type="text/javascript" src="__JS__/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="__JS__/sketch.min.js"></script>


<!--[if lte IE 8]><style>.main{display:none;} .support-note .note-ie{display:block;}</style><![endif]-->
</head>
<body id="body">
    <div id="test" style=" position:fixed;top:0px;z-index:20;">
        <div class="place">
            <span>位置：</span>
            <ul class="placeul">
                <li>档案管理</li>
            </ul>
        </div>
        
        <div class="comtitle">
            <span><img src="__IMG__/clist.png" /></span>
            <h2>资料(<?=$nav_count?>)</h2>
            <div class="rline"></div>
        </div>
        
        <ul class="disklist">

            <?php if(is_array($nav) || $nav instanceof \think\Collection || $nav instanceof \think\Paginator): if( count($nav)==0 ) : echo "" ;else: foreach($nav as $key=>$v): ?>
                <li>
                    <a href="<?=\think\Url::build('index/filelist')?>?fid=<?=$v['nid']?>" >
                        <div class="dleft1"><img src="__IMG__/<?=$v['nav_img']?>" alt="" /></div>    
                        <div class="dright">
                            <h2><?=$v['nav_name']?></h2>
                            <div class="dinfo"><span style="width:50px;"></span></div>
                            <p>34 MB 空间,共 253 个文件</p>    
                        </div>
                    </a>
                </li>
            <?php endforeach; endif; else: echo "" ;endif; ?>
        
        </ul>
        
        <!-- <div class="comtitle">
        <span><img src="__IMG__/clist.png" /></span>
        <h2>其他(1)</h2>
        <div class="rline"></div>
        </div>
        
        
        <ul class="disklist">
        <li>
        <div class="dleft2"></div>    
        <div class="dright">
        <h3>相关信息资料</h3>
        <p>文件夹</p>    
        </div>
        </li>  
        </ul> -->
    </div>
    <script>
        $(function(){   
            //导航切换
            $(".disklist li").click(function(){
                $(".disklist li.selected").removeClass("selected")
                $(this).addClass("selected");
            })  
        })
        function Particle(x, y, radius) {
            this.init(x, y, radius);
        }
        Particle.prototype = {

            init : function(x, y, radius) {

                this.alive = true;

                this.radius = radius || 10;
                this.wander = 0.15;
                this.theta = random(TWO_PI);
                this.drag = 0.92;
                this.color = '#fff';

                this.x = x || 0.0;
                this.y = y || 0.0;

                this.vx = 0.0;
                this.vy = 0.0;
            },

            move : function() {

                this.x += this.vx;
                this.y += this.vy;

                this.vx *= this.drag;
                this.vy *= this.drag;

                this.theta += random(-0.5, 0.5) * this.wander;
                this.vx += sin(this.theta) * 0.1;
                this.vy += cos(this.theta) * 0.1;

                this.radius *= 0.96;
                this.alive = this.radius > 0.5;
            },
            draw : function(ctx) {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, TWO_PI);
                ctx.fillStyle = this.color;
                ctx.fill();
            }
        }
        var MAX_PARTICLES = 280;
        var COLOURS = [ '#69D2E7', '#A7DBD8', '#E0E4CC', '#F38630', '#FA6900', '#FF4E50', '#F9D423' ];
        var particles = [];
        var pool = [];
        var demo = Sketch.create({
            container : document.getElementById('test')
        });
        demo.setup = function() {
            // Set off some initial particles.
            var i, x, y;
            //  for ( i = 0; i < 20; i++ ) {
            x = (demo.width * 0.5) + random(-100, 100);
            y = (demo.height * 0.5) + random(-100, 100);
            demo.spawn(0, 999);
            // }
        };

        demo.spawn = function(x, y) {
            if (particles.length >= MAX_PARTICLES)
                pool.push(particles.shift());
            particle = pool.length ? pool.pop() : new Particle();
//          第二个数字控制圆圈大小
            particle.init(x, y, random(5, 10));

            particle.wander = random(0.5, 2.0);
            particle.color = random(COLOURS);
            particle.drag = random(0.9, 0.99);
            theta = random(TWO_PI);
//          第二个数字控制分散距离
            force = random(2,3);
            particle.vx = sin(theta) * force;
            particle.vy = cos(theta) * force;
            particles.push(particle);
        };
        demo.update = function() {
            var i, particle;for (i = particles.length - 1; i >= 0; i--) {
                particle = particles[i];
                if (particle.alive)
                    particle.move();
                else
                    pool.push(particles.splice(i, 1)[0]);
            }
        };
        demo.draw = function() {
            demo.globalCompositeOperation = 'lighter';
            for ( var i = particles.length - 1; i >= 0; i--) {
                particles[i].draw(demo);
            }
        };
        demo.mousemove = function() {
            var particle, theta, force, touch, max, i, j, n;
            for (i = 0, n = demo.touches.length; i < n; i++) {
//              第二个数字控制密度
                touch = demo.touches[i], max = random(1, 5);
                for (j = 0; j < max; j++) {
                    demo.spawn(touch.x, touch.y);
                }
            }
        };
    </script>
</body>
</html>
